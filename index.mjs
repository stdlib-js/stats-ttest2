// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{primitives as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number-array@v0.0.8-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-dists-t-cdf@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-dists-t-quantile@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-pow@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-mean@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-variance@v0.0.10-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-ninf@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-pinf@esm/index.mjs";import{isPrimitive as f}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import{isPrimitive as j}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nan@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import{isPrimitive as u}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-roundn@esm/index.mjs";function x(e){var t,s,i;if(s=4,t=!0,arguments.length>0){if(!c(e))throw new TypeError(m("0fq3X",e));if(b(e,"digits")){if(!g(e.digits))throw new TypeError(m("0fq3b","digits",e.digits));s=e.digits}if(b(e,"decision")){if(!u(e.decision))throw new TypeError(m("0fq30","decision",e.decision));t=e.decision}}switch(i="",i+=this.method,i+="\n\n",i+="Alternative hypothesis: ",i+="True difference in means is ",this.alternative){case"less":i+="less than ";break;case"greater":i+="greater than ";break;default:i+="not equal to "}return i+=this.nullValue,i+="\n\n",i+="    pValue: "+w(this.pValue,-s)+"\n",i+="    statistic: "+w(this.statistic,-s)+"\n",i+="    df: "+w(this.df,-s)+"\n",i+="    "+100*(1-this.alpha)+"% confidence interval: ["+w(this.ci[0],-s)+","+w(this.ci[1],-s)+"]",i+="\n\n",t&&(i+="Test Decision: ",this.rejected?i+="Reject null in favor of alternative at "+100*this.alpha+"% significance level":i+="Fail to reject null in favor of alternative at "+100*this.alpha+"% significance level",i+="\n"),i}function q(g,u,w){var q,y,E,T,k,V,A,P,R,D,F,O,W,X,z,B,C,G,H,I,J;if(!t(g)&&!e(g))throw new TypeError(m("0fq8j",g));if(!t(u)&&!e(u))throw new TypeError(m("0fqAa",u));if(P={},w&&(B=function(e,t){return c(t)?b(t,"alpha")&&(e.alpha=t.alpha,!f(e.alpha)||v(e.alpha))?new TypeError(m("0fq8h","alpha",e.alpha)):b(t,"alternative")&&(e.alternative=t.alternative,!j(e.alternative))?new TypeError(m("0fq2i","alternative",e.alternative)):b(t,"difference")&&(e.difference=t.difference,!f(e.difference)||v(e.difference))?new TypeError(m("0fq8h","difference",e.difference)):b(t,"variance")&&(e.variance=t.variance,!j(e.variance))?new TypeError(m("0fq2i","variance",e.variance)):null:new TypeError(m("0fq2h",t))}(P,w),B))throw B;if(A=P.difference||0,(y=void 0===P.alpha?.05:P.alpha)<0||y>1)throw new RangeError(m("invalid option. `%s` option must be a number on the interval: [0, 1]. Option: `%f`.","alpha",y));if(G=g.length,H=u.length,D=o(G,1,g,1),F=o(H,1,u,1),"equal"===(k=P.variance||"unequal"))J=(G-1)*D+(H-1)*F,q=n((J/=I=G+H-2)*(1/G+1/H));else{if("unequal"!==k)throw new Error(m("0fq3t","variance",["equal","unequal"].join('", "'),k));W=n(D/G),X=n(F/H),q=n(W*W+X*X),J=d(W,4)/(G-1),J+=d(X,4)/(H-1),I=d(q,4)/J}switch(O=((E=l(G,g,1))-(T=l(H,u,1))-A)/q,z=P.alternative||"two-sided"){case"two-sided":R=2*i(-a(O),I),(V=[O-r(1-y/2,I),O+r(1-y/2,I)])[0]=A+V[0]*q,V[1]=A+V[1]*q;break;case"greater":R=1-i(O,I),(V=[O-r(1-y,I),p])[0]=A+V[0]*q;break;case"less":R=i(O,I),(V=[h,O+r(1-y,I)])[1]=A+V[1]*q;break;default:throw new Error(m("0fq3t","alternative",["two-sided","less","greater"].join('", "'),z))}return s(C={},"rejected",R<=y),s(C,"alpha",y),s(C,"pValue",R),s(C,"statistic",O),s(C,"ci",V),s(C,"alternative",z),s(C,"df",I),s(C,"method","equal"===k?"Two-sample t-test":"Welch two-sample t-test"),s(C,"nullValue",A),s(C,"xmean",E),s(C,"ymean",T),s(C,"print",x),C}export{q as default};
//# sourceMappingURL=index.mjs.map
